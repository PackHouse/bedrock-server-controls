{"ast":null,"code":"import _defineProperty from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{registerUser}from\"../../actions/authActions\";import classnames from\"classnames\";import{Link}from\"react-router-dom\";var Register=/*#__PURE__*/function(_React$Component){_inherits(Register,_React$Component);var _super=_createSuper(Register);function Register(){var _this;_classCallCheck(this,Register);_this=_super.call(this);_this.onChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmit=function(e){e.preventDefault();var newUser={username:_this.state.username,email:_this.state.email,password:_this.state.password,password2:_this.state.password2};_this.props.registerUser(newUser,_this.props.history);};_this.state={username:\"\",email:\"\",password:\"\",password2:\"\",errors:{}};return _this;}_createClass(Register,[{key:\"componentDidMount\",value:function componentDidMount(){// If logged in and user navigates to Register page, should redirect them to dashboard\nif(this.props.auth.isAuthenticated){this.props.history.push(\"/dashboard\");}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/React.createElement(\"div\",{className:\"appDiv\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"headerStyle\"},\"Bedrock Server Controls\"),/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Register New User\"),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"span\",{className:\"red-text\"},errors.username),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{className:classnames(\"\",{invalid:errors.username}),onChange:this.onChange,value:this.state.username,placeholder:\"Username\",error:errors.username,id:\"username\",type:\"text\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"red-text\"},errors.email),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{className:classnames(\"\",{invalid:errors.email}),onChange:this.onChange,value:this.state.email,placeholder:\"Email\",error:errors.email,id:\"email\",type:\"email\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"red-text\"},errors.password),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{className:classnames(\"\",{invalid:errors.password}),onChange:this.onChange,value:this.state.password,placeholder:\"Password\",error:errors.password,id:\"password\",type:\"password\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"red-text\"},errors.password2),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{className:classnames(\"\",{invalid:errors.password2}),onChange:this.onChange,value:this.state.password2,placeholder:\"Confirm Password\",error:errors.password2,id:\"password2\",type:\"password\"})),/*#__PURE__*/React.createElement(\"p\",null,\"Already have an account? \",/*#__PURE__*/React.createElement(Link,{className:\"otherLink\",to:\"/login\"},\"Login\")),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Register\"}))));}}]);return Register;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{registerUser:registerUser})(withRouter(Register));","map":{"version":3,"sources":["/home/delta12/code/react/bedrock-server-controls/bedrock-controls/src/components/auth/Register.js"],"names":["React","withRouter","connect","registerUser","classnames","Link","Register","onChange","e","setState","target","id","value","onSubmit","preventDefault","newUser","username","state","email","password","password2","props","history","errors","auth","isAuthenticated","push","nextProps","invalid","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { withRouter } from \"react-router-dom\"\nimport PropTypes from \"prop-types\"\nimport { connect } from \"react-redux\"\nimport { registerUser } from \"../../actions/authActions\"\nimport classnames from \"classnames\"\nimport {Link} from \"react-router-dom\"\n\nclass Register extends React.Component {\n\n  constructor() {\n    super()\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n      errors: {}\n    }\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Register page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\")\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      })\n    }\n  }\n\n  onChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    const newUser = {\n      username: this.state.username,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2\n    }\n    this.props.registerUser(newUser, this.props.history)\n  }\n\n  render() {\n    const {errors} = this.state\n\n    return (\n      <div className=\"appDiv\">\n        <h1 className=\"headerStyle\">Bedrock Server Controls</h1>\n        <div className=\"login\">\n          <h1>Register New User</h1>\n          <form noValidate onSubmit={this.onSubmit}>\n            <span className=\"red-text\">{errors.username}</span><br />\n            <label>\n              <input className={classnames(\"\", {invalid: errors.username})} onChange={this.onChange} value={this.state.username} placeholder=\"Username\" error={errors.username} id=\"username\" type=\"text\"/>\n            </label>\n            <span className=\"red-text\">{errors.email}</span><br />\n            <label>\n              <input className={classnames(\"\", {invalid: errors.email})} onChange={this.onChange} value={this.state.email} placeholder=\"Email\" error={errors.email} id=\"email\" type=\"email\"/>\n            </label>\n            <span className=\"red-text\">{errors.password}</span><br />\n            <label>\n              <input className={classnames(\"\", {invalid: errors.password})} onChange={this.onChange} value={this.state.password} placeholder=\"Password\" error={errors.password} id=\"password\" type=\"password\"/>\n            </label>\n            <span className=\"red-text\">{errors.password2}</span><br />\n            <label>\n              <input className={classnames(\"\", {invalid: errors.password2})} onChange={this.onChange} value={this.state.password2} placeholder=\"Confirm Password\" error={errors.password2} id=\"password2\" type=\"password\"/>\n            </label>\n            <p>Already have an account? <Link className=\"otherLink\" to=\"/login\">Login</Link></p>\n            <input type=\"submit\" value=\"Register\" />\n          </form>\n        </div>\n      </div>\n    )\n\n  }\n}\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n}\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n})\nexport default connect(\n  mapStateToProps,\n  { registerUser }\n)(withRouter(Register))\n"]},"metadata":{},"sourceType":"module"}