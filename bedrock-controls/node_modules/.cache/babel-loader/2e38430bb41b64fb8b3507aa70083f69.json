{"ast":null,"code":"import _classCallCheck from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/delta12/code/react/bedrock-server-controls/bedrock-controls/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{logoutUser}from\"../../actions/authActions\";import axios from\"axios\";import Server from'./components/Server';import Status from'./components/Status';import Connect from'./components/Connect';import Players from'./components/Players';import Software from'./components/Software';import Share from'./components/Share';var Dashboard=/*#__PURE__*/function(_React$Component){_inherits(Dashboard,_React$Component);var _super=_createSuper(Dashboard);function Dashboard(){var _this;_classCallCheck(this,Dashboard);_this=_super.call(this);_this.onLogoutClick=function(e){e.preventDefault();_this.props.logoutUser();};_this.onProfileClick=function(e){e.preventDefault();// alert('Profile Click')\n};_this.state={name:\"Unknown\",online:null,address:\"Unknown\",port:\"Unknown\",onlinePlayers:\"Unknown\",maxPlayers:\"Unknown\",gamemode:\"Unknown\",difficulty:\"Unknown\",seed:\"Unknown\",software:\"Unknown\",version:\"Unknown\",error:null};return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.intervalID);}},{key:\"getData\",value:function getData(){var _this2=this;var reqData={id:this.props.auth.user.id};axios.post(\"/api/servers/info\",reqData).then(function(res){_this2.setState({name:res.data.data.name,online:res.data.data.online,address:res.data.data.address,port:res.data.data.port,onlinePlayers:res.data.data.onlinePlayers,maxPlayers:res.data.data.maxPlayers,gamemode:res.data.data.gamemode,difficulty:res.data.data.difficulty,seed:res.data.data.seed,software:res.data.data.software,version:res.data.data.version});}).catch(function(err){return _this2.setState({error:err.response.data.error});});this.intervalID=setTimeout(this.getData.bind(this),5000);}},{key:\"render\",value:function render(){var user=this.props.auth.user;if(this.state.error===null&&this.state.online){return/*#__PURE__*/React.createElement(\"div\",{className:\"appDiv\"},/*#__PURE__*/React.createElement(\"nav\",{className:\"navtop\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Bedrock Server Controls (v1.0-beta)\"),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onProfileClick},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle\"}),user.username),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onLogoutClick},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-sign-out-alt\"}),\"Logout\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"headerCards\"},/*#__PURE__*/React.createElement(Server,{name:this.state.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"cards\"},/*#__PURE__*/React.createElement(Status,{id:user.id,online:this.state.online}),/*#__PURE__*/React.createElement(Connect,{address:this.state.address,port:this.state.port}),/*#__PURE__*/React.createElement(Players,{onlinePlayers:this.state.onlinePlayers,maxPlayers:this.state.maxPlayers}),/*#__PURE__*/React.createElement(Software,{software:this.state.software,version:this.state.version}),/*#__PURE__*/React.createElement(Share,{baseURL:\"http://3.128.29.141\"})));}else if(this.state.error===null&&!this.state.online){return/*#__PURE__*/React.createElement(\"div\",{className:\"appDiv\"},/*#__PURE__*/React.createElement(\"nav\",{className:\"navtop\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Bedrock Server Controls (v1.0-beta)\"),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onProfileClick},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle\"}),user.username),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onLogoutClick},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-sign-out-alt\"}),\"Logout\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"headerCards\"},/*#__PURE__*/React.createElement(Server,{name:this.state.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"cards\"},/*#__PURE__*/React.createElement(Status,{id:user.id,online:this.state.online}),/*#__PURE__*/React.createElement(Connect,{address:this.state.address,port:this.state.port}),/*#__PURE__*/React.createElement(Software,{software:this.state.software,version:this.state.version}),/*#__PURE__*/React.createElement(Share,{baseURL:\"http://3.128.29.141\"})));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"appDiv\"},/*#__PURE__*/React.createElement(\"nav\",{className:\"navtop\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Bedrock Server Controls (v1.0-beta)\"),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onProfileClick},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle\"}),user.username),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onLogoutClick},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-sign-out-alt\"}),\"Logout\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"headerCards\"},/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},\"Error: \",this.state.error),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},\"Contact the server admin\")));}}}]);return Dashboard;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{logoutUser:logoutUser})(Dashboard);","map":{"version":3,"sources":["/home/delta12/code/react/bedrock-server-controls/bedrock-controls/src/components/dashboard/Dashboard.js"],"names":["React","connect","logoutUser","axios","Server","Status","Connect","Players","Software","Share","Dashboard","onLogoutClick","e","preventDefault","props","onProfileClick","state","name","online","address","port","onlinePlayers","maxPlayers","gamemode","difficulty","seed","software","version","error","getData","clearTimeout","intervalID","reqData","id","auth","user","post","then","res","setState","data","catch","err","response","setTimeout","bind","username","color","Component","mapStateToProps","errors"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { connect } from \"react-redux\"\nimport { logoutUser } from \"../../actions/authActions\"\nimport axios from \"axios\"\n\nimport Server from './components/Server'\nimport Status from './components/Status'\nimport Connect from './components/Connect'\nimport Players from './components/Players'\nimport Software from './components/Software'\nimport Share from './components/Share'\n\nclass Dashboard extends React.Component {\n\n  intervalID\n\n  constructor() {\n    super()\n    this.state = {\n      name: \"Unknown\",\n      online: null,\n      address: \"Unknown\",\n      port: \"Unknown\",\n      onlinePlayers: \"Unknown\",\n      maxPlayers: \"Unknown\",\n      gamemode: \"Unknown\",\n      difficulty: \"Unknown\",\n      seed: \"Unknown\",\n      software: \"Unknown\",\n      version: \"Unknown\",\n      error: null\n    }\n  }\n\n  onLogoutClick = e => {\n    e.preventDefault()\n    this.props.logoutUser()\n  }\n\n  onProfileClick = e => {\n    e.preventDefault()\n    // alert('Profile Click')\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.intervalID)\n  }\n\n  getData() {\n    const reqData = {\n      id: this.props.auth.user.id\n    }\n    axios\n      .post(\"/api/servers/info\", reqData)\n      .then(res => {\n        this.setState({\n          name: res.data.data.name,\n          online: res.data.data.online,\n          address: res.data.data.address,\n          port: res.data.data.port,\n          onlinePlayers: res.data.data.onlinePlayers,\n          maxPlayers: res.data.data.maxPlayers,\n          gamemode: res.data.data.gamemode,\n          difficulty: res.data.data.difficulty,\n          seed: res.data.data.seed,\n          software: res.data.data.software,\n          version: res.data.data.version\n        })\n      })\n      .catch(err =>\n        this.setState({\n          error: err.response.data.error\n        })\n      )\n    this.intervalID = setTimeout(this.getData.bind(this), 5000);\n  }\n\n  render() {\n    const { user } = this.props.auth\n    if(this.state.error === null && this.state.online){\n      return (\n        <div className=\"appDiv\">\n          <nav className=\"navtop\">\n            <div>\n              <h1>Bedrock Server Controls (v1.0-beta)</h1>\n              <button onClick={this.onProfileClick}><i className=\"fas fa-user-circle\"></i>{user.username}</button>\n              <button onClick={this.onLogoutClick}><i className=\"fas fa-sign-out-alt\"></i>Logout</button>\n            </div>\n          </nav>\n          <div className=\"headerCards\">\n            <Server name={this.state.name}/>\n          </div>\n          <div className=\"cards\">\n            <Status id={user.id} online={this.state.online}/>\n            <Connect address={this.state.address} port={this.state.port}/>\n            <Players onlinePlayers={this.state.onlinePlayers} maxPlayers={this.state.maxPlayers}/>\n            <Software software={this.state.software} version={this.state.version}/>\n            <Share baseURL=\"http://3.128.29.141\"/>\n          </div>\n        </div>\n      )\n    }\n    else if(this.state.error === null && !this.state.online){\n      return (\n        <div className=\"appDiv\">\n          <nav className=\"navtop\">\n            <div>\n              <h1>Bedrock Server Controls (v1.0-beta)</h1>\n              <button onClick={this.onProfileClick}><i className=\"fas fa-user-circle\"></i>{user.username}</button>\n              <button onClick={this.onLogoutClick}><i className=\"fas fa-sign-out-alt\"></i>Logout</button>\n            </div>\n          </nav>\n          <div className=\"headerCards\">\n            <Server name={this.state.name}/>\n          </div>\n          <div className=\"cards\">\n            <Status id={user.id} online={this.state.online}/>\n            <Connect address={this.state.address} port={this.state.port}/>\n            <Software software={this.state.software} version={this.state.version}/>\n            <Share baseURL=\"http://3.128.29.141\"/>\n          </div>\n        </div>\n      )\n    }\n    else {\n      return (\n        <div className=\"appDiv\">\n          <nav className=\"navtop\">\n            <div>\n              <h1>Bedrock Server Controls (v1.0-beta)</h1>\n              <button onClick={this.onProfileClick}><i className=\"fas fa-user-circle\"></i>{user.username}</button>\n              <button onClick={this.onLogoutClick}><i className=\"fas fa-sign-out-alt\"></i>Logout</button>\n            </div>\n          </nav>\n          <div className=\"headerCards\">\n            <p style={{color: \"red\"}}>Error: {this.state.error}</p>\n            <p style={{color: \"red\"}}>Contact the server admin</p>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nDashboard.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n}\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n})\nexport default connect(\n  mapStateToProps,\n  { logoutUser }\n)(Dashboard)\n"]},"metadata":{},"sourceType":"module"}